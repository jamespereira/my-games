(this["webpackJsonpmy-cupboard"]=this["webpackJsonpmy-cupboard"]||[]).push([[0],{32:function(e,a,t){e.exports=t(47)},37:function(e,a,t){},38:function(e,a,t){},47:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(28),l=t.n(c),s=t(6),m=(t(37),t(12)),o=t(8),i=t(9),u=t(11),h=t(10),d=(t(38),t(1)),g=t(29),p=t.n(g),f=t(17),v=t.n(f),y=(t(40),v.a.initializeApp({apiKey:"AIzaSyBL3uNl_7pgtpy08gwTOZeIrRkCkDHlI3Q",authDomain:"my-games-36d1c.firebaseapp.com",databaseURL:"https://my-games-36d1c.firebaseio.com"})),b=v.a.database(y),E=p.a.createClass(b),C=function(e){var a,t=e.game?e.game:"",n=t.shelf,c=t.name,l=t.released,s=t.metacritic,m=t.background_image;return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game-top"},r.a.createElement("div",{className:"game-cover",style:{width:128,height:193,backgroundPosition:"center",backgroundSize:"cover",backgroundImage:"url(".concat(m,")")}},r.a.createElement("div",{className:"game-rating",style:{background:(a=s,a>=90?"#6c3":a>=50&&a<90?"#fc3":a<50?"#f00":"rgba(0,0,0,0)")}},s)),r.a.createElement("div",{className:"game-shelf-changer"},r.a.createElement("select",{value:n,onChange:function(a){return e.handleSelectChange(a,e.game)}},r.a.createElement("option",{value:"move",disabled:!0},"Move to..."),r.a.createElement("option",{value:"currentlyPlaying"},"Currently Playing"),r.a.createElement("option",{value:"wantToPlay"},"Want to Play"),r.a.createElement("option",{value:"completed"},"Completed"),r.a.createElement("option",{value:"none"},"None")))),r.a.createElement("div",{className:"game-title"},c),r.a.createElement("div",{className:"game-released"},new Date(l).toLocaleString("default",{month:"long",year:"numeric",day:"numeric"})))},N=function(e){var a="";switch(e.title){case"currentlyPlaying":a="Currently Playing";break;case"wantToPlay":a="Want To Play";break;case"completed":a="Completed";break;default:a=""}return r.a.createElement("div",{className:"gameshelf"},r.a.createElement("h2",{className:"gameshelf-title"},a),r.a.createElement("div",{className:"gameshelf-games"},r.a.createElement("ol",{className:"games-grid"},e.games.map((function(a){return r.a.createElement("li",{key:a.id},r.a.createElement(C,{game:a,handleSelectChange:e.handleSelectChange}))})))))},S=function(e){Object(u.a)(t,e);var a=Object(h.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"list-games"},r.a.createElement("div",{className:"list-games-content"},["currentlyPlaying","wantToPlay","completed"].map((function(a){return r.a.createElement(N,{key:a,title:a,games:e.props.games.filter((function(e){return e.shelf===a})),handleSelectChange:e.props.handleSelectChange})}))),r.a.createElement(s.b,{to:"/search",className:"open-search"},r.a.createElement("button",null,"Add a game")))}}]),t}(n.Component),k=t(31),j="https://rawg-video-games-database.p.rapidapi.com",O={"x-rapidapi-host":"rawg-video-games-database.p.rapidapi.com","x-rapidapi-key":"ee5f129151msh9a2e3747969076cp17b077jsn8260f27a0d30"},w=function(e){Object(u.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={term:"",searchedGames:[],allGames:[]},e.handleInputChange=function(a){e.setState({term:a}),e.searchGame(a)},e.searchGame=function(a){if(a){console.log(a);var t=e.state.allGames.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));e.setState({searchedGames:t})}},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,a=this;(e=1,fetch("".concat(j,"/games?page=").concat(e),{headers:O}).then((function(e){return e.json()}))).then((function(e){var t,n,r=e.results,c=Object(k.a)(a.props.shelfGames);try{var l=function(){var e=n.value;r.map((function(a){a.name===e.name&&r.splice(r.indexOf(a),1)}))};for(c.s();!(n=c.n()).done;)l()}catch(s){c.e(s)}finally{c.f()}r.map((function(e){return e.shelf="none"})),t=[].concat(Object(m.a)(a.props.shelfGames),Object(m.a)(r)),a.setState({allGames:t})}))}},{key:"render",value:function(){var e=this,a=this.state,t=a.term,n=(a.allGames,a.searchedGames);return r.a.createElement("div",{className:"search-games"},r.a.createElement("div",{className:"search-games-bar"},r.a.createElement(s.b,{className:"close-search",to:"/"},"Close"),r.a.createElement("div",{className:"search-games-input-wrapper"},r.a.createElement("input",{type:"text",placeholder:"Search by game name",value:t,onChange:function(a){return e.handleInputChange(a.target.value)}}))),r.a.createElement("div",{className:"search-games-results"},t&&r.a.createElement("ol",{className:"games-grid"},r.a.createElement(N,{title:"search",games:n,handleSelectChange:this.props.handleSelectChange}))))}}]),t}(n.Component),G=function(e){Object(u.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={games:[]},e.handleShelfUpdate=function(a,t){var n=a.target.value,r=[];r="none"===t.shelf?[].concat(Object(m.a)(e.state.games),[t]):Object(m.a)(e.state.games),t.shelf=n,e.setState({games:r})},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.ref=E.syncState("games",{context:this,state:"games",asArray:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,{exact:!0,path:"/my-games/",render:function(){return r.a.createElement(S,{games:e.state.games,handleSelectChange:e.handleShelfUpdate})}}),r.a.createElement(d.a,{exact:!0,path:"/my-games/search",render:function(){return r.a.createElement(w,{shelfGames:e.state.games,handleSelectChange:e.handleShelfUpdate})}}))}}]),t}(n.Component);l.a.render(r.a.createElement(s.a,null,r.a.createElement(G,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.2813903b.chunk.js.map